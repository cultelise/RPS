<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="./styles.css">
    <link rel="'script" href="./script.js">
    <title>Rock, Paper, Scissors.</title>
  </head>
  <body>
   <div>
    <h1>

    </h1>
    <button id="start">Start Game</button>
    <button id='rock' class="opt">Rock</button>
    <button id="paper" class="opt">Paper</button>
    <button id='scissors' class="opt">Scissors</button>
   </div>
  </body>
  <script>
    let startButt = document.querySelector('#start');
    console.log(startButt);
    let optButts = document.querySelectorAll('.opt');
    let optButtons = document.getElementsByClassName('opt');
    console.log(optButts)
    
    let pChoice = '';

    startButt.addEventListener('click', () => {
      startButt.setAttribute('style', 'display: none');
      for(let choice of Array.from(optButtons)) {
        choice.setAttribute('style', 'display: initial');
    }  playGame();
  });
    

   
  
  

    async function playGame() {
      startButt.setAttribute('style', 'display: none');
      let playerScore = 0;
      let computerScore = 0;
      while (computerScore < 5 && playerScore < 5) {
        switch (playRound()) {
          case 'tie':
            console.log('Tie! ' + score());
            break;
          case 'loss':
            computerScore++;
            console.log('Loss! ' + score());
            break;
          case 'win':
            playerScore++;
            console.log('Win! ' + score());
            break;
        } function score() {
        return `${playerScore} - ${computerScore}.`;
        } break;
      } if (playerScore === 5) {
          return console.log('You Win! Thanks for Playing.');
        } else if (computerScore === 5) {
          console.log('You Lose! Try Again.');
          return playGame();
        } 
    }
  
   let playRound = outcome(player, getComputerChoice) => {
    for(let choice of Array.from(optButts)) {
      choice.addEventListener('click', (e => {
        if (e.target.id = 'rock') {
          player = 'rock';
          console.log(e.target.id)
        } else if (e.target.id === 'paper') {
          player = 'paper';
        } else if (e.target.id === 'scissors') {
          player = 'scissors';
        }
      })) 
    }
    }
   function outcome(player, computer) {
      if (player === 'rock') {
        switch (computer) {
          case 'rock': 
          return 'tie';
          break;
          case 'paper': 
          return 'loss';
          break;
          case 'scissors': 
          return 'win';
          break;
        } 
      } else if (player === 'paper') {  
          switch (computer) {
          case 'rock': 
          return 'win';
          break;
          case 'paper': 
          return 'tie';
          break;
          case 'scissors': 
          return 'loss';
          break;
          }
      } else if (player === 'scissors') {  
          switch (computer) {
          case 'rock': 
          return 'loss';
          break;
          case 'paper': 
          return 'win';
          break;
          case 'scissors': 
          return 'tie';
          break;
          }
        }
      }
      
      function getComputerChoice() {
      let choice = ['rock', 'paper', 'scissors'];
      return choice[Math.floor(Math.random() * 3)];
    }
  </script>
</html>
